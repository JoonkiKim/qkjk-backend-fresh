1:N 관계의 테이블을 연결해보자

카테고리 - 상품 테이블의 관계를 생각하면 됨. 카테고리 하나에 상품 여러개가 들어가있으니까


일대일 관계는 조인 컬럼을 상품테이블쪽에 작성해줘서 매핑을 해줬는데, 다대일 관계도 같은 원리로 하면 된다


----------------------------

일단 앱모듈에서 ProductCategories.module을 추가해줘야, graphql에서 mutation, query등의 작업을 할 수 있다.
테이블별 모듈 만들고 앱 모듈에서 합쳐주는 그 원리인거임!!


--------------------------------
어떤 작업을 해야되는지 정리해보면,

브라우저에서 현재 입력하려는 정보는 
상품정보, 상품거래위치정보, 카테고리 정보임
앞의 2개는 했고, 

1.
카테고리 정보를 입력하려면 그 정보를 일단 DB에서 불러와야됨 -> fetchCategories를 통해 백엔드에 요청을 주면 카테고리를 브라우저에 보내줌.

2. 
이후 브라우저가 상품정보, 상품거래위치정보, 카테고리 정보를 모두 선택하면,
상품정보, 거래위치정보를 id를 통해 조인해서 보내주고, 카테고리 정보도 id를 통해 조인해서 '보내주려'고 했는데 생각해보면
카테고리 정보는 이미 DB에서 불러온 정보이니까 따로 create시에 DB에 전송해줄 필요는 없고 "id를 통해 상품 정보에 조인해주기만 하면 됨!!"

즉, 다대일 테이블에서의 데이터 '등록' 시 조인은 1역할을 하는 테이블 정보(카테고리정보)를 N역할을 하는 테이블(상품)에 조인해주기만 하면 된다


----------------------
product 테이블의 dto에서 ProductCategoriesid를 받아온다

이후 다대일 연결해서 resolver에서는 따로 해줄일이 없다. 왜냐면 id조인만 해주면 되니까, service에서 주요 연결을 진행한다
